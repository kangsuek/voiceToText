# ElevenLabs Realtime Transcription App - ë°ì´í„° íë¦„ë„

## í•µì‹¬ ìš”ì•½

### ë°ì´í„° ì†ŒìŠ¤
- **ì˜¤ë””ì˜¤ íŒŒì¼ (recording.webm)**: ë¸Œë¼ìš°ì € MediaRecorderë¡œ ë¡œì»¬ ë…¹ìŒ âœ…
- **í…ìŠ¤íŠ¸ íŒŒì¼ (transcription.txt)**: ElevenLabs APIì—ì„œ ë³€í™˜ëœ ê²°ê³¼ âœ…

### ë°ì´í„° íë¦„ ë°©í–¥
```
ë§ˆì´í¬ â†’ [ë¶„ê¸°]
         â”œâ†’ MediaRecorder â†’ ë¡œì»¬ ë©”ëª¨ë¦¬ â†’ WebM íŒŒì¼
         â””â†’ AudioContext â†’ WebSocket â†’ ElevenLabs â†’ í…ìŠ¤íŠ¸ â†’ TXT íŒŒì¼
```

### ì„œë²„ ì—­í• 
- **ë°±ì—”ë“œ ì„œë²„**: í† í° ë°œê¸‰ë§Œ (1íšŒ)
- **ElevenLabs**: ìŒì„±â†’í…ìŠ¤íŠ¸ ë³€í™˜ (ì§€ì†)
- **ì˜¤ë””ì˜¤ ì €ì¥**: ì„œë²„ ê±°ì¹˜ì§€ ì•ŠìŒ (ë¸Œë¼ìš°ì € ë¡œì»¬)

### ì„±ëŠ¥ íŠ¹ì§•
- **ì‹¤ì‹œê°„ì„±**: WebSocket ì§ì ‘ ì—°ê²°ë¡œ ìµœì†Œ ì§€ì—°
- **íš¨ìœ¨ì„±**: ì„œë²„ ë¶€í•˜ ìµœì†Œí™”
- **í™•ì¥ì„±**: í´ë¼ì´ì–¸íŠ¸ ë¶„ì‚° ì²˜ë¦¬

## ì „ì²´ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ í”„ë¡ íŠ¸ì—”ë“œ   â”‚         â”‚   ë°±ì—”ë“œ      â”‚         â”‚  ElevenLabs  â”‚
â”‚  (React)    â”‚         â”‚  (FastAPI)   â”‚         â”‚     API      â”‚
â”‚ Port: 5173  â”‚         â”‚  Port: 8000  â”‚         â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚                       â”‚                         â”‚
      â”‚ 1. í† í° ìš”ì²­           â”‚                         â”‚
      â”‚ GET /api/get-token    â”‚                         â”‚
      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚                         â”‚
      â”‚                       â”‚ 2. API í‚¤ë¡œ í† í° ìƒì„±    â”‚
      â”‚                       â”‚ POST /v1/single-use-    â”‚
      â”‚                       â”‚      token/realtime_    â”‚
      â”‚                       â”‚      scribe             â”‚
      â”‚                       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚
      â”‚                       â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
      â”‚                       â”‚   { token: "..." }      â”‚
      â”‚ 3. í† í° ë°˜í™˜           â”‚                         â”‚
      â”‚ { token: "..." }      â”‚                         â”‚
      â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                         â”‚
      â”‚                                                 â”‚
      â”‚ 4. WebSocket ì§ì ‘ ì—°ê²°                          â”‚
      â”‚ wss://api.elevenlabs.io/v1/speech-to-text/     â”‚
      â”‚      realtime?token=xxx                        â”‚
      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚
      â”‚                                                 â”‚
      â”‚ 5. ì‹¤ì‹œê°„ ì˜¤ë””ì˜¤ ìŠ¤íŠ¸ë¦¼ (16kHz PCM, Base64)     â”‚
      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚
      â”‚                                                 â”‚
      â”‚ 6. í…ìŠ¤íŠ¸ ë³€í™˜ ê²°ê³¼ (JSON)                      â”‚
      â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
```

## ì˜¤ë””ì˜¤ ì…ë ¥ â†’ ì¶œë ¥ ë°ì´í„° íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ë§ˆì´í¬ ì…ë ¥ (getUserMedia)              â”‚
â”‚                   navigator.mediaDevices                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                              â”‚
               â”‚                              â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   ê²½ë¡œ 1: íŒŒì¼ ì €ì¥   â”‚       â”‚  ê²½ë¡œ 2: ì‹¤ì‹œê°„ ë³€í™˜   â”‚
    â”‚   (ë¡œì»¬ ë…¹ìŒ)        â”‚       â”‚  (ElevenLabs ì „ì†¡)    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                              â”‚
               â”‚                              â”‚
               â–¼                              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  MediaRecorder API   â”‚       â”‚   AudioContext API    â”‚
    â”‚  (ë¸Œë¼ìš°ì € ë‚´ì¥)      â”‚       â”‚   (sampleRate: 16kHz) â”‚
    â”‚                      â”‚       â”‚                       â”‚
    â”‚  new MediaRecorder   â”‚       â”‚  ScriptProcessor      â”‚
    â”‚      (stream)        â”‚       â”‚  Node (4096 buffer)   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                              â”‚
               â”‚                              â”‚
               â”‚                              â”‚ Float32 â†’ Int16
               â”‚                              â”‚ PCM ë³€í™˜
               â”‚                              â”‚ Base64 ì¸ì½”ë”©
               â–¼                              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ondataavailable      â”‚       â”‚  WebSocket.send()     â”‚
    â”‚                      â”‚       â”‚                       â”‚
    â”‚ audioChunks.push()   â”‚       â”‚  {                    â”‚
    â”‚                      â”‚       â”‚   message_type:       â”‚
    â”‚ (ë©”ëª¨ë¦¬ì— Blob ì €ì¥)  â”‚       â”‚   "input_audio_chunk",â”‚
    â”‚                      â”‚       â”‚   audio_base_64: "...",â”‚
    â”‚                      â”‚       â”‚   sample_rate: 16000  â”‚
    â”‚                      â”‚       â”‚  }                    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                              â”‚
               â”‚                              â”‚
               â”‚                              â–¼
               â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚                   â”‚  ElevenLabs ì„œë²„      â”‚
               â”‚                   â”‚  ìŒì„± ì¸ì‹ ì²˜ë¦¬       â”‚
               â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                              â”‚
               â”‚                              â”‚
               â”‚                              â–¼
               â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚                   â”‚  WebSocket.onmessage  â”‚
               â”‚                   â”‚                       â”‚
               â”‚                   â”‚  partial_transcript:  â”‚
               â”‚                   â”‚  "ì‹¤ì‹œê°„ ì¸ì‹ ì¤‘..."   â”‚
               â”‚                   â”‚                       â”‚
               â”‚                   â”‚  committed_transcript:â”‚
               â”‚                   â”‚  "í™•ì •ëœ í…ìŠ¤íŠ¸"       â”‚
               â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                              â”‚
               â”‚                              â”‚
               â–¼                              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Save Audio ë²„íŠ¼ í´ë¦­  â”‚       â”‚ transcript ìƒíƒœ ë³€ìˆ˜   â”‚
    â”‚                      â”‚       â”‚ partialTranscript     â”‚
    â”‚ downloadWav()        â”‚       â”‚                       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                              â”‚
               â”‚                              â”‚
               â–¼                              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Blob ìƒì„±            â”‚       â”‚ Save Text ë²„íŠ¼ í´ë¦­    â”‚
    â”‚ type: audio/webm     â”‚       â”‚                       â”‚
    â”‚                      â”‚       â”‚ downloadTxt()         â”‚
    â”‚ URL.createObjectURL  â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
               â”‚                              â”‚
               â”‚                              â–¼
               â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚                   â”‚ Blob ìƒì„±             â”‚
               â”‚                   â”‚ type: text/plain      â”‚
               â”‚                   â”‚                       â”‚
               â”‚                   â”‚ URL.createObjectURL   â”‚
               â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                              â”‚
               â–¼                              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ğŸ“ recording.webm    â”‚       â”‚ ğŸ“„ transcription.txt  â”‚
    â”‚ (ë¸Œë¼ìš°ì € ë‹¤ìš´ë¡œë“œ)   â”‚       â”‚ (ë¸Œë¼ìš°ì € ë‹¤ìš´ë¡œë“œ)    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ìƒì„¸ ì»´í¬ë„ŒíŠ¸ë³„ ë°ì´í„° íë¦„

### 1. ì¸ì¦ ë° ì—°ê²° ë‹¨ê³„

```
[ì‚¬ìš©ì í´ë¦­: ë…¹ìŒ ì‹œì‘]
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ startRecording() í•¨ìˆ˜ ì‹¤í–‰                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. ìƒíƒœ ì´ˆê¸°í™”                                         â”‚
â”‚    - setStatus('connecting')                          â”‚
â”‚    - setTranscript('')                                â”‚
â”‚    - audioChunksRef.current = []                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2. ë°±ì—”ë“œì— í† í° ìš”ì²­                                   â”‚
â”‚    fetch('http://localhost:8000/api/get-token')       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ë°±ì—”ë“œ ì²˜ë¦¬ (FastAPI)                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ auth.py > get_token()                                 â”‚
â”‚    â†“                                                  â”‚
â”‚ elevenlabs.py > get_realtime_token()                  â”‚
â”‚    â†“                                                  â”‚
â”‚ httpx.post(                                           â”‚
â”‚   "https://api.elevenlabs.io/v1/single-use-token/    â”‚
â”‚    realtime_scribe",                                  â”‚
â”‚   headers={"xi-api-key": settings.XI_API_KEY}        â”‚
â”‚ )                                                     â”‚
â”‚    â†“                                                  â”‚
â”‚ return { "token": "eyJhbG..." }                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WebSocket ì—°ê²°                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ const wsUrl = `wss://api.elevenlabs.io/v1/           â”‚
â”‚   speech-to-text/realtime?token=${token}`             â”‚
â”‚                                                       â”‚
â”‚ const socket = new WebSocket(wsUrl)                   â”‚
â”‚                                                       â”‚
â”‚ socket.onopen â†’ startMediaRecorder(socket)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. ì˜¤ë””ì˜¤ ì²˜ë¦¬ ë‹¨ê³„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ startMediaRecorder(socket) í•¨ìˆ˜                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. ë§ˆì´í¬ ê¶Œí•œ ìš”ì²­                                     â”‚
â”‚    const stream = await navigator.mediaDevices         â”‚
â”‚                        .getUserMedia({ audio: true })  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â–¼                 â–¼                     â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ì‹¤ì‹œê°„ ì „ì†¡ìš©     â”‚ â”‚ íŒŒì¼ ì €ì¥ìš©       â”‚ â”‚ ë¦¬ì†ŒìŠ¤ ê´€ë¦¬ìš©     â”‚
    â”‚ AudioContext     â”‚ â”‚ MediaRecorder    â”‚ â”‚ ì°¸ì¡° ì €ì¥        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                 â”‚                     â”‚
                â–¼                 â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ new AudioContext({     â”‚ â”‚ new MediaRecorderâ”‚ â”‚ mediaRecorderRef â”‚
â”‚   sampleRate: 16000    â”‚ â”‚     (stream)     â”‚ â”‚   .current = {   â”‚
â”‚ })                     â”‚ â”‚                  â”‚ â”‚   stop: () => {} â”‚
â”‚                        â”‚ â”‚ ondataavailable  â”‚ â”‚ }                â”‚
â”‚ createMediaStream      â”‚ â”‚   = (event) => { â”‚ â”‚                  â”‚
â”‚   Source(stream)       â”‚ â”‚   audioChunks    â”‚ â”‚                  â”‚
â”‚                        â”‚ â”‚     .push(event  â”‚ â”‚                  â”‚
â”‚ createScriptProcessor  â”‚ â”‚     .data)       â”‚ â”‚                  â”‚
â”‚   (4096, 1, 1)         â”‚ â”‚ }                â”‚ â”‚                  â”‚
â”‚                        â”‚ â”‚                  â”‚ â”‚                  â”‚
â”‚ onaudioprocess = (e)   â”‚ â”‚ start()          â”‚ â”‚                  â”‚
â”‚   => {                 â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚   // PCM ë³€í™˜          â”‚
â”‚   // Base64 ì¸ì½”ë”©     â”‚
â”‚   // WebSocket ì „ì†¡    â”‚
â”‚ }                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì˜¤ë””ì˜¤ ë°ì´í„° ë³€í™˜ íŒŒì´í”„ë¼ì¸                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. Float32Array (ë¸Œë¼ìš°ì € ì›ë³¸)                       â”‚
â”‚    inputData = e.inputBuffer.getChannelData(0)       â”‚
â”‚    ì˜ˆ: [0.5, -0.3, 0.8, ...]                         â”‚
â”‚                                                      â”‚
â”‚ 2. Int16Array (16-bit PCM)                           â”‚
â”‚    pcmData[i] = inputData[i] * 32768                 â”‚
â”‚    ì˜ˆ: [16384, -9830, 26214, ...]                    â”‚
â”‚                                                      â”‚
â”‚ 3. Uint8Array (ë°”ì´íŠ¸ ë°°ì—´)                           â”‚
â”‚    new Uint8Array(pcmData.buffer)                    â”‚
â”‚    ì˜ˆ: [0x00, 0x40, 0xDA, 0xD9, ...]                 â”‚
â”‚                                                      â”‚
â”‚ 4. Base64 ë¬¸ìì—´                                      â”‚
â”‚    btoa(String.fromCharCode(...bytes))               â”‚
â”‚    ì˜ˆ: "AEAA2tnZ..."                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WebSocket ì „ì†¡                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ socket.send(JSON.stringify({                         â”‚
â”‚   message_type: "input_audio_chunk",                 â”‚
â”‚   audio_base_64: "AEAA2tnZ...",                      â”‚
â”‚   sample_rate: 16000                                 â”‚
â”‚ }))                                                  â”‚
â”‚                                                      â”‚
â”‚ ì „ì†¡ ì£¼ê¸°: ì•½ 4096/16000 = 0.256ì´ˆë§ˆë‹¤               â”‚
â”‚ ë°ì´í„° í¬ê¸°: ì•½ 5.5KB per chunk                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. í…ìŠ¤íŠ¸ ìˆ˜ì‹  ë‹¨ê³„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ElevenLabs ì„œë²„ ì²˜ë¦¬                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ ì˜¤ë””ì˜¤ ì²­í¬ ìˆ˜ì‹                                      â”‚
â”‚ â€¢ AI ìŒì„± ì¸ì‹ ëª¨ë¸ ì²˜ë¦¬                               â”‚
â”‚ â€¢ í…ìŠ¤íŠ¸ ë³€í™˜                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ socket.onmessage = (event) => {}                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ const data = JSON.parse(event.data)                  â”‚
â”‚ const msgType = data.message_type || data.type       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â–¼                 â–¼                  â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ partial_transcriptâ”‚ â”‚ committed_   â”‚ â”‚ error /      â”‚
    â”‚                   â”‚ â”‚ transcript   â”‚ â”‚ other        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                 â”‚
                â–¼                 â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ setPartialTranscriptâ”‚ â”‚ setTranscript(prev =>  â”‚
    â”‚   (data.text)     â”‚ â”‚   prev + ' ' + data.text)â”‚
    â”‚                   â”‚ â”‚                          â”‚
    â”‚ "ì•ˆë…•í•˜ì„¸..."      â”‚ â”‚ setPartialTranscript('')â”‚
    â”‚ (íŒŒë€ìƒ‰ ê¹œë¹¡ì„)    â”‚ â”‚                          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ "ì•ˆë…•í•˜ì„¸ìš”"              â”‚
                          â”‚ (íšŒìƒ‰ í™•ì • í…ìŠ¤íŠ¸)         â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. ì €ì¥ ë‹¨ê³„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì‚¬ìš©ì ì•¡ì…˜: Save ë²„íŠ¼ í´ë¦­                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                 â–¼                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Save Audio   â”‚  â”‚ Save Text        â”‚  â”‚ ë…¹ìŒ ì¤‘ì§€ ì‹œ      â”‚
â”‚ ë²„íŠ¼ í´ë¦­     â”‚  â”‚ ë²„íŠ¼ í´ë¦­         â”‚  â”‚ stopRecording()  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                 â”‚                          â”‚
        â–¼                 â–¼                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ downloadWav()            â”‚  â”‚ downloadTxt()          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. audioChunks í™•ì¸       â”‚  â”‚ 1. transcript +        â”‚
â”‚    if (length === 0)     â”‚  â”‚    partialTranscript   â”‚
â”‚      alert("ì—†ìŒ")        â”‚  â”‚    ê²°í•©                â”‚
â”‚                          â”‚  â”‚                        â”‚
â”‚ 2. Blob ìƒì„±             â”‚  â”‚ 2. Blob ìƒì„±           â”‚
â”‚    new Blob(             â”‚  â”‚    new Blob(           â”‚
â”‚      audioChunks,        â”‚  â”‚      [textToSave],     â”‚
â”‚      {type:'audio/webm'} â”‚  â”‚      {type:'text/plain'}â”‚
â”‚    )                     â”‚  â”‚    )                   â”‚
â”‚                          â”‚  â”‚                        â”‚
â”‚ 3. URL ìƒì„±              â”‚  â”‚ 3. URL ìƒì„±            â”‚
â”‚    URL.createObject      â”‚  â”‚    URL.createObject    â”‚
â”‚       URL(blob)          â”‚  â”‚       URL(blob)        â”‚
â”‚                          â”‚  â”‚                        â”‚
â”‚ 4. <a> íƒœê·¸ ìƒì„±          â”‚  â”‚ 4. <a> íƒœê·¸ ìƒì„±        â”‚
â”‚    download=             â”‚  â”‚    download=           â”‚
â”‚    'recording.webm'      â”‚  â”‚    'transcription.txt' â”‚
â”‚                          â”‚  â”‚                        â”‚
â”‚ 5. ìë™ í´ë¦­ â†’ ë‹¤ìš´ë¡œë“œ   â”‚  â”‚ 5. ìë™ í´ë¦­ â†’ ë‹¤ìš´ë¡œë“œ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                              â”‚
        â–¼                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ recording.webmâ”‚          â”‚ ğŸ“„ transcription.txtâ”‚
â”‚                  â”‚          â”‚                    â”‚
â”‚ í¬ê¸°: ~500KB     â”‚          â”‚ ë‚´ìš©:              â”‚
â”‚ (1ë¶„ ë…¹ìŒ ê¸°ì¤€)   â”‚          â”‚ "ì•ˆë…•í•˜ì„¸ìš”.       â”‚
â”‚                  â”‚          â”‚  ì˜¤ëŠ˜ ë‚ ì”¨ê°€..."   â”‚
â”‚ âŒ ElevenLabs    â”‚          â”‚                    â”‚
â”‚    ì—ì„œ ë°›ì€ ê²ƒ   â”‚          â”‚ âœ… ElevenLabs      â”‚
â”‚    ì•„ë‹˜!         â”‚          â”‚    ì—ì„œ ë³€í™˜í•œ     â”‚
â”‚                  â”‚          â”‚    í…ìŠ¤íŠ¸          â”‚
â”‚ âœ… ë¸Œë¼ìš°ì €ì—ì„œ  â”‚          â”‚                    â”‚
â”‚    ì§ì ‘ ë…¹ìŒ     â”‚          â”‚                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ìƒíƒœ(State) ê´€ë¦¬ íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ React State ë³€ìˆ˜ë“¤                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ isRecording: boolean          ë…¹ìŒ ì¤‘ ì—¬ë¶€           â”‚
â”‚ transcript: string            í™•ì •ëœ í…ìŠ¤íŠ¸           â”‚
â”‚ partialTranscript: string     ì„ì‹œ í…ìŠ¤íŠ¸            â”‚
â”‚ status: string                idle/connecting/       â”‚
â”‚                               recording/error        â”‚
â”‚ error: string | null          ì—ëŸ¬ ë©”ì‹œì§€            â”‚
â”‚ hasAudio: boolean             ì˜¤ë””ì˜¤ ì €ì¥ ê°€ëŠ¥ ì—¬ë¶€   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Refs (ì°¸ì¡° ë³€ìˆ˜)                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ mediaRecorderRef             MediaRecorder ì œì–´      â”‚
â”‚ socketRef                    WebSocket ì—°ê²°          â”‚
â”‚ audioChunksRef               ì˜¤ë””ì˜¤ Blob ë°°ì—´        â”‚
â”‚ partialTranscriptRef         ë§ˆì§€ë§‰ ì„ì‹œ í…ìŠ¤íŠ¸      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ìƒíƒœ ë³€í™” ì‹œë‚˜ë¦¬ì˜¤:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. ì´ˆê¸° ìƒíƒœ
   status: 'idle'
   isRecording: false
   transcript: ''

2. ë…¹ìŒ ì‹œì‘ ë²„íŠ¼ í´ë¦­
   status: 'idle' â†’ 'connecting'

3. WebSocket ì—°ê²° ì„±ê³µ
   status: 'connecting' â†’ 'recording'
   isRecording: false â†’ true

4. ì˜¤ë””ì˜¤ ë°ì´í„° ìˆ˜ì‹  ì‹œì‘
   hasAudio: false â†’ true

5. í…ìŠ¤íŠ¸ ìˆ˜ì‹ 
   partialTranscript: '' â†’ 'ì•ˆë…•í•˜' â†’ 'ì•ˆë…•í•˜ì„¸ìš”'
   transcript: '' â†’ 'ì•ˆë…•í•˜ì„¸ìš” '
   partialTranscript: 'ì•ˆë…•í•˜ì„¸ìš”' â†’ ''

6. ë…¹ìŒ ì¤‘ì§€
   isRecording: true â†’ false
   status: 'recording' â†’ 'idle'
   transcript: 'ì•ˆë…•í•˜ì„¸ìš” ' + partialTranscript
```

## ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ ë¶„ì„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ HTTP ìš”ì²­ (1íšŒë§Œ)                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ GET http://localhost:8000/api/get-token              â”‚
â”‚                                                      â”‚
â”‚ Request: ì—†ìŒ                                        â”‚
â”‚ Response: { "token": "eyJhbG..." }                   â”‚
â”‚ Size: ~500 bytes                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WebSocket ì—°ê²° (ì§€ì†)                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ wss://api.elevenlabs.io/v1/speech-to-text/realtime  â”‚
â”‚      ?token=eyJhbG...                                â”‚
â”‚                                                      â”‚
â”‚ â†‘ ì—…ë¡œë“œ (í´ë¼ì´ì–¸íŠ¸ â†’ ElevenLabs)                   â”‚
â”‚   - ì£¼ê¸°: ì•½ 256msë§ˆë‹¤ (1ì´ˆì— ~4íšŒ)                  â”‚
â”‚   - í¬ê¸°: ~5.5KB per chunk                           â”‚
â”‚   - 1ë¶„ ë…¹ìŒ ì‹œ: ~1.3MB ì „ì†¡                         â”‚
â”‚                                                      â”‚
â”‚ â†“ ë‹¤ìš´ë¡œë“œ (ElevenLabs â†’ í´ë¼ì´ì–¸íŠ¸)                 â”‚
â”‚   - ì£¼ê¸°: ë¶ˆê·œì¹™ (í…ìŠ¤íŠ¸ í™•ì • ì‹œ)                     â”‚
â”‚   - í¬ê¸°: ~100-500 bytes per message                 â”‚
â”‚   - 1ë¶„ ë…¹ìŒ ì‹œ: ~5-20KB ìˆ˜ì‹                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ì´ ë°ì´í„° ì‚¬ìš©ëŸ‰ (1ë¶„ ë…¹ìŒ):
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â€¢ ì—…ë¡œë“œ: ~1.3MB (ì˜¤ë””ì˜¤ ìŠ¤íŠ¸ë¦¼)
â€¢ ë‹¤ìš´ë¡œë“œ: ~5-20KB (í…ìŠ¤íŠ¸)
â€¢ ë¡œì»¬ ì €ì¥: ~500KB (WebM íŒŒì¼)
```

## ì—ëŸ¬ ì²˜ë¦¬ íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì—ëŸ¬ ë°œìƒ ì§€ì                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼             â–¼             â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚í† í° ìš”ì²­ ì‹¤íŒ¨â”‚ â”‚ë§ˆì´í¬ ê±°ë¶€   â”‚ â”‚WebSocket â”‚ â”‚ì˜¤ë””ì˜¤   â”‚
â”‚             â”‚ â”‚             â”‚ â”‚ì—°ê²° ì‹¤íŒ¨  â”‚ â”‚ì²˜ë¦¬ ì‹¤íŒ¨ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚             â”‚             â”‚              â”‚
        â–¼             â–¼             â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ try-catch ë¸”ë¡                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ catch (err) {                                        â”‚
â”‚   console.error('ì—ëŸ¬:', err)                        â”‚
â”‚   setError(err.message)                              â”‚
â”‚   setStatus('idle')                                  â”‚
â”‚   stopRecording()  // ë¦¬ì†ŒìŠ¤ ì •ë¦¬                     â”‚
â”‚ }                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UIì— ì—ëŸ¬ í‘œì‹œ                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ {error && (                                          â”‚
â”‚   <span className="text-red-400">{error}</span>      â”‚
â”‚ )}                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ë¦¬ì†ŒìŠ¤ ì •ë¦¬ (Cleanup)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ stopRecording() í˜¸ì¶œ ì‹œ                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. MediaRecorder ì¤‘ì§€                                 â”‚
â”‚    - processor.disconnect()                          â”‚
â”‚    - source.disconnect()                             â”‚
â”‚    - audioContext.close()                            â”‚
â”‚    - mediaRecorder.stop()                            â”‚
â”‚    - stream.getTracks().forEach(t => t.stop())       â”‚
â”‚                                                      â”‚
â”‚ 2. WebSocket ì—°ê²° ì¢…ë£Œ                                â”‚
â”‚    - socketRef.current.close()                       â”‚
â”‚                                                      â”‚
â”‚ 3. ë¯¸ì™„ì„± í…ìŠ¤íŠ¸ ì²˜ë¦¬                                  â”‚
â”‚    - partialTranscriptë¥¼ transcriptì— ì¶”ê°€            â”‚
â”‚                                                      â”‚
â”‚ 4. ìƒíƒœ ì´ˆê¸°í™”                                        â”‚
â”‚    - setIsRecording(false)                           â”‚
â”‚    - setStatus('idle')                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ useEffect cleanup (ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆìš´íŠ¸ ì‹œ)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ useEffect(() => {                                    â”‚
â”‚   return () => {                                     â”‚
â”‚     stopRecording()  // ëª¨ë“  ë¦¬ì†ŒìŠ¤ ì •ë¦¬              â”‚
â”‚   }                                                  â”‚
â”‚ }, [])                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

